<!DOCTYPE html>
<html>
	<head>
		<title>Cooperative Coder</title>
		<style type="text/css">
			body{
				background-color: #eeffee;	
				color: #000000;
			}
			header,section{
				margin: 0, auto;
				text-align: center;
			}
			div{
				float: left;
				width: 40%;
				margin-left: 5%;
				margin-right: 5%;
			}
			textarea{
				width: 100%;
				height: 100%;
			}
			
		</style>
	</head>
	<body>
		<header>
			<h1>The Cooperative Code Challenge</h1>
			<p>
				Veggies sunt bona vobis, proinde vos postulo esse magis spinach watercress plantain water spinach okra broccoli bok choy corn pea lentil black-eyed pea garlic.
			</p>
			<p>
				Beetroot corn cabbage melon scallion burdock chickweed turnip groundnut fennel tigernut garlic swiss chard avocado squash mustard amaranth. Gram dandelion pea sprouts komatsuna maize amaranth bunya nuts plantain j√≠cama water chestnut sea lettuce quandong rock melon courgette black-eyed pea kale. Broccoli rabe beet greens napa cabbage scallion fava bean chard celtuce lotus root caulie arugula beetroot bok choy zucchini kohlrabi garbanzo leek bunya nuts brussels sprout.
			</p>
		</header>
		<section>
			<h2>The result</h2>
			<div id="result"></div>
		</section>
		<section>
			<div>
				<h2>Player One</h2>
				<div id="question_1">Write a function to subtract one from a number</div>
				<button>Ready</button>
				<textarea id="input_1"></textarea>
			</div>
			<div>
				<h2>Player Two</h2>
				<div id="question_2">Write a function to multiply a number by 2</div>
				<button>Ready</button>
				<textarea id="input_2"></textarea>
			</div>
		</section>
	</body>
	<script src=http://cdn.pubnub.com/pubnub-3.1.min.js></script>
		<script>
			(function(){
				
				var playerTwoText = document.getElementById('input_2');
				var channel = 'colabcode';
			
				var pubnub = PUBNUB.init({
		     		publish_key: 'demo',
	     			subscribe_key: 'demo'
	 			});	
				pubnub.subscribe({
					channel : channel,
					message : function(stuff){
						console.log(stuff);
					},
					callback : function(text) { 
						document.getElementById('input_1').innerHTML = text.p1;
						document.getElementById('input_2').innerHTML = text.p1;
					},
				});
				pubnub.bind( 'keyup', document.getElementById('input_1'), function(e) {
					(e.keyCode || e.charCode) === 13 && pubnub.publish({
						channel : channel, 
						message : {p1 : document.getElementById('input_1').value, p2 : document.getElementById('input_2').value}
					});	
				} );
				pubnub.bind( 'keyup', document.getElementById('input_2'), function(e) {
					(e.keyCode || e.charCode) === 13 && pubnub.publish({
						channel : channel, 
						message : {p1 : document.getElementById('input_1').value, p2 : document.getElementById('input_2').value}
					});	
				} );
			})();
	</script>

</html>